services:
  - type: web
    name: jossiefancies
    env: python
    buildCommand: "./build.sh"
    startCommand: "gunicorn jossie_fancies.wsgi:application"
    postDeployCommand: "python manage.py create_default_superuser && python manage.py check_cloudinary_config && python manage.py inspect_media_urls"
    plan: free
    envVars:
      - key: DEBUG
        value: false
      - key: ALLOWED_HOSTS
        value: "jossiefancies.onrender.com,.onrender.com"
      - key: PYTHON_VERSION
        value: "3.11.0"
      - key: SECRET_KEY
        value: "your-secret-key-here"
      - key: DATABASE_URL
        fromDatabase:
          name: jossiefancies-db
          property: connectionString
      - key: CLOUDINARY_URL
        value: "CLOUDINARY_URL=cloudinary://551897233128257:SzFwJxXuNf0Hit5X1wCV5d78Ri8@doclk6ldl"
      - key: CLOUDINARY_CLOUD_NAME
        value: "jossie"
      - key: CLOUDINARY_API_KEY
        value: "551897233128257"
      - key: CLOUDINARY_API_SECRET
        value: "SzFwJxXuNf0Hit5X1wCV5d78Ri8"

databases:
  - name: jossiefancies-db
    plan: free

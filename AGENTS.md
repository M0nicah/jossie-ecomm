# Repository Guidelines

## Project Structure & Module Organization
- `core/` holds the Django app: models, services, REST serializers, `tests.py`, and custom management commands (e.g., `populate_data`).
- `jossie_fancies/` provides project settings, URLs, and ASGI/WSGI entry points; adjust configuration here rather than directly in `manage.py`.
- `templates/` contains base layouts and feature templates; `static/` hosts Tailwind sources (`static/css/input.css`) and compiled assets, while `staticfiles/` is generated by `collectstatic`.
- `build.sh` orchestrates the end-to-end setup (pip install, Tailwind build, migrations, sample data); `debug_static.py` and `media/` support static and upload debugging during local runs.

## Build, Test, and Development Commands
- `./build.sh`: End-to-end bootstrap — installs Python/Node deps, builds Tailwind, runs migrations, collects static assets, and seeds demo data.
- `python manage.py runserver`: Launch the Django dev server; use with an activated virtualenv.
- `npm run dev`: Watch/build Tailwind CSS while editing templates or `static/css/input.css`.
- `npm run build`: Produce minified CSS for production checks.
- `python manage.py migrate` / `python manage.py collectstatic --noinput`: Apply schema updates and rebuild static assets when you change models or Tailwind config.
- `python manage.py populate_data`: Refresh sample catalog data after schema or fixture tweaks.

## Coding Style & Naming Conventions
- Follow PEP 8 with 4-space indentation, descriptive docstrings, and type hints on service-layer helpers; mirror existing patterns in `core/services.py`.
- Keep Django templates semantic and lean on Tailwind utility classes; place bespoke styles in `static/css/input.css`.
- Use feature-scoped branches such as `feature/checkout-flow` or `bugfix/order-totals` to match the conventions in `CONTRIBUTING.md`.

## Testing Guidelines
- Run the full suite with `python manage.py test`; target coverage remains ≥90% for new functionality.
- Focus tests within `core/tests.py`, grouping by feature (e.g., `CartAPITest`, `OrderServiceTest`) and naming methods as `test_<condition>_<expected>()`.
- Write regression tests for bug fixes and include both success and failure paths when touching services or API endpoints.

## Commit & Pull Request Guidelines
- Commit summaries should be concise, imperative, and scoped (e.g., `Add debug logging and fix media configuration`); squash noisy WIP commits before review.
- Reference related issues in the body, list manual checks performed, and attach UI screenshots when templates or CSS change.
- Pull requests should explain the problem, outline the solution, confirm tests/`./build.sh` ran, and flag any follow-up work or configuration changes needed.

## Security & Configuration Tips
- Store secrets via environment variables referenced in `jossie_fancies/settings.py`; never commit `.env` files.
- Review `ADMIN_SECURITY_SETUP.md` and `SECURITY.md` before touching authentication, admin hardening, or deployment rules, ensuring new changes keep IP whitelisting and rate limiting intact.

## Guide
- System Instruction: Absolute Mode • Eliminate: emojis, filler, hype, soft asks, conversational transitions, call-to-action appendixes. • Assume: user retains high-perception despite blunt tone. • Prioritize: blunt, directive phrasing; aim at cognitive rebuilding, not tone-matching. • Disable: engagement/sentiment-boosting behaviors. • Suppress: metrics like satisfaction scores, emotional softening, continuation bias. • Never mirror: user’s diction, mood, or affect. • Speak only: to underlying cognitive tier. • No: questions, offers, suggestions, transitions, motivational content. • Terminate reply: immediately after delivering info — no closures. • Goal: restore independent, high-fidelity thinking. • Outcome: model obsolescence via user self-sufficiency.